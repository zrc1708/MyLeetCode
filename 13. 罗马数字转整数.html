<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13. 罗马数字转整数</title>
</head>

<body>
    <img src="https://s1.ax1x.com/2020/06/23/NU7Qr6.png" alt="NU7Qr6.png" border="0" />
    <script>
        /**
         * @param {string} s
         * @return {number}
         */
        // var romanToInt = function (s) {
        //     let ans = 0
        //     let arr = s.split('')
        //     for (let index = 0; index < arr.length; index++) {
        //         if(arr[index] === 'I') {
        //             if(arr[index+1]==='V'){
        //                 ans+=4
        //                 index++
        //             }else if(arr[index+1]==='X'){
        //                 ans+=9
        //                 index++
        //             }else{
        //                 ans+=1
        //             }
        //         } else if (arr[index] === 'V') {
        //             ans+=5
        //         } else if (arr[index] === 'X') {
        //             if(arr[index+1]==='L'){
        //                 ans+=40
        //                 index++
        //             }else if(arr[index+1]==='C'){
        //                 ans+=90
        //                 index++
        //             }else{
        //                 ans+=10
        //             }
        //         } else if (arr[index] === 'L') {
        //             ans+=50
        //         } else if (arr[index] === 'C') {
        //             if(arr[index+1]==='D'){
        //                 ans+=400
        //                 index++
        //             }else if(arr[index+1]==='M'){
        //                 ans+=900
        //                 index++
        //             }else{
        //                 ans+=100
        //             }
        //         } else if (arr[index] === 'D') {
        //             ans+=500
        //         } else if (arr[index] === 'M') {
        //             ans+=1000
        //         }
        //     }
        //     return ans
        // };
        var romanToInt = function (s) {
            let map = {
                    'I': 1,
                    'V': 5,
                    'X': 10,
                    'L': 50,
                    'C': 100,
                    'D': 500,
                    'M': 1000
                },
                sum = 0,
                loop = 0,
                num = 0,
                now = 0;
            while (loop < s.length) {
                now = map[s[loop]];
                if (num < now) {
                    sum -= num;
                } else {
                    sum += num;
                }
                num = now;
                loop++;
            }
            sum += num;
            return sum;
        };

        console.log(romanToInt('MCMXCIV'))
    </script>
</body>

</html>